#+title: Dactyl Generator Demo

[[file:README.zh.org][中文版]]


[[https://dactyl.siskam.link][Dactyl Generator]] is a website to generate 3D model in form of scad file for
dactyl keyboard case. This project is a Java program which demonstrates the
parameter effect by generating models and preview images using [[https://dactyl.siskam.link/api][Dactyl Generator API]].
It helps you adjust the parameters.
Currently only dactyl manuform is demonstrated.

* Table of Contents  :TOC:
- [[#base][Base]]
  - [[#keys][Keys]]
  - [[#curvature--tenting][Curvature & Tenting]]
  - [[#connectors][Connectors]]
  - [[#form-of-the-case][Form of the Case]]
  - [[#misc][Misc]]
- [[#keys-1][Keys]]
  - [[#thumb-key-count][Thumb key count]]
  - [[#last-row-key-counts][Last row key counts]]
  - [[#key-hole][Key hole]]
  - [[#inner-index-fingers-column][Inner index finger's column]]
  - [[#hide-bottom-pinky][Hide bottom pinky]]
- [[#curvature--tenting-1][Curvature & Tenting]]
  - [[#columns-curvature][Column's curvature]]
  - [[#pinkys-column-curvature][Pinky's column curvature]]
  - [[#rows-curvature][Row's curvature]]
  - [[#center-of-the-curvature-for-the-column][Center of the curvature for the column]]
  - [[#tenting-angle][Tenting Angle]]
  - [[#rotation-around-row-axis][Rotation around row axis]]
- [[#connectors-1][Connectors]]
  - [[#internal-connector-rj9-mini-usb][Internal connector RJ9 Mini USB]]
  - [[#internal-connector-trrs-micro-usb][Internal connector TRRS Micro USB]]
  - [[#internal-connector-none][Internal connector none]]
  - [[#external-holder][External Holder]]
- [[#form-of-the-case-1][Form of the Case]]
  - [[#hotswap-socket][Hotswap socket]]
  - [[#thumb-cluster-offsets-center-x-toward-the-pinky][Thumb cluster offsets center x (toward the pinky)]]
  - [[#thumb-cluster-offsets-center-y-toward-the-index][Thumb cluster offsets center y (toward the index)]]
  - [[#thumb-cluster-offsets-center-z-altitude][Thumb cluster offsets center z (altitude)]]
  - [[#stagger][Stagger]]
  - [[#index-finger-measurement-y][Index finger measurement y]]
  - [[#index-finger-measurement-z][Index finger measurement z]]
  - [[#middle-finger-measurement-y][Middle finger measurement y]]
  - [[#middle-finger-measurement-z][Middle finger measurement z]]
  - [[#ring-finger-measurement-y][Ring finger measurement y]]
  - [[#ring-finger-measurement-z][Ring finger measurement z]]
  - [[#pinky-finger-measurement-y][Pinky finger measurement y]]
  - [[#pinky-finger-measurement-z][Pinky finger measurement z]]
  - [[#wide-pinky][Wide pinky]]
  - [[#height-offset][Height offset]]
  - [[#wire-posts][Wire posts]]
  - [[#screw-inserts][Screw inserts]]
- [[#misc-1][Misc]]
  - [[#show-keycaps][Show Keycaps]]
  - [[#right-side-or-left-side][Right side or left side]]
- [[#known-issues][Known Issues]]

* Base
  This is a base model for comparison. Most of parameters use the default value.
  Those non-default values are specified in form of (+default value+ used value).
  The combination of (number of columns: 6, last row key counts: use all keys)
  helps demo the effect of param ~hide bottom pinky~.
  If param ~height offset~ is set to default value 4mm, the demo model of some
  parameters is broken, so it's set to 10mm.

** Keys
   - number of columns: +5+ 6
   - number of rows: 4
   - thumb key count: 6
   - last row key counts: +two+ use all keys
   - key hole: Box and MX
   - inner index finger's column: normal
   - hide bottom pinky: no

** Curvature & Tenting
   - column's curvature: pi/12
   - pinky's column's curvature: pi/12
   - row's curvature: pi/36
   - center of the curvature for the column: pinky finger's column
   - tenting angle: pi/15
   - rotation around row axis: pi/180

** Connectors
   - use loligagger's external holder: no
   - connector: RJ9
   - USB hole: Mini

** Form of the Case
   - hotswap socket: no
   - thumb cluster offsets center x (toward the pinky): 6
   - thumb cluster offsets center y (toward the index): -3
   - thumb cluster offsets center z (altitude): 7
   - custom thumb cluster (Experimental): no
   - custom thumb cluster top right, top left, middle left are skipped. See [[#known-issues][known issue]] #2
   - stagger: yes
   - index finger measurement y: 0
   - index finger measurement z: 0
   - middle finger measurement y: 2.8
   - middle finger measurement z: -6.5
   - ring finger measurement y: 0
   - ring finger measurement z: 0
   - pinky finger measurement y: -13
   - pinky finger measurement z: 6
   - wide pinky: no
   - height offset: +4mm+ 10mm
   - wire posts: no
   - screw inserts: no

** Misc
   - show keycaps: no
   - right side or left side: right

[[file:manuform/manuform-4x6+6-DIAGONAL.png]]
[[file:manuform/manuform-4x6+6-TOP.png]]
[[file:manuform/manuform-4x6+6-BACK_TOP.png]]
[[file:manuform/manuform-4x6+6-BOTTOM.png]]
[[file:manuform/manuform-4x6+6-BOTTOM_DIST_200.png]]

* Keys

** Thumb key count
   2, 3, 4, 5, 6 in order
   [[file:manuform/manuform-4x6+x-DIAGONAL-cmp.png]]

** Last row key counts
   "no last row" vs "use all keys"

   column 3 to 6 have 3 rows
   [[file:manuform/manuform-4x6+6-(keys.last-row=0)-TOP-cmp.png]]

   two vs "use all keys"

   column 5 and 6 have 3 rows
   [[file:manuform/manuform-4x6+6-(keys.last-row=2)-TOP-cmp.png]]

** Key hole
   MX vs "Box and MX"

   Additional nub
   [[file:manuform/manuform-4x6+6-(keys.switch-type=mx)-BOTTOM_DIST_200-cmp.png]]

   "MX snap-in" vs MX

   Notice the space under the nub, which helps the switch firmly snaps into the hole
   [[file:manuform/manuform-4x6+6-(keys.switch-type=mx-snap-in)-BOTTOM_DIST_200-cmp.png]]
   [[file:images/mx_vs_mx-snap-in.png]]

   Alps vs "Box and MX"

   Key hole size is different
   [[file:manuform/manuform-4x6+6-(keys.switch-type=alps)-BOTTOM_DIST_200-cmp.png]]

   Choc vs "Box and MX"

   The switch hole wall is thinner.
   Added in Sep 2020 https://github.com/ibnuda/dactyl-keyboard/issues/50 and some fixes later
   [[file:manuform/manuform-4x6+6-(keys.switch-type=choc)-BOTTOM_DIST_200-cmp.png]]

   Kailh vs "Box and MX"

   Kailh is added at the end of 2020, which fits Kailh switch better.
   See https://github.com/ibnuda/dactyl-keyboard/pull/68
   [[file:manuform/manuform-4x6+6-(keys.switch-type=kailh)-BOTTOM_DIST_200-cmp.png]]

** Inner index finger's column
   "Use inner column (like ergodox)" vs Normal

   Two more keys on the left
   [[file:manuform/manuform-4x6+6-(keys.inner-column=ergodox)-TOP-cmp.png]]

   Without vs Normal

   The left most column is gone
   [[file:manuform/manuform-4x6+6-(keys.inner-column=without)-TOP-cmp.png]]

** Hide bottom pinky
   Yes vs No

   The bottom right key is disabled
   [[file:manuform/manuform-4x6+6-(keys.hide-last-pinky=yes)-TOP-cmp.png]]

* Curvature & Tenting

** Column's curvature
   pi/6 vs pi/12

   The curvature pi/6 of (index, middle, ring) finger's column, that is, column 1, 2, 3 and 4 is steeper
   [[file:manuform/manuform-4x6+6-(curve.column-curvature=pi_6)-DIAGONAL-cmp.png]]

** Pinky's column curvature
   pi/6 vs pi/12

   The curvature of pinky finger column, that is, column 5 and 6 is steeper
   [[file:manuform/manuform-4x6+6-(curve.pinky-column-curvature=pi_6)-DIAGONAL-cmp.png]]

** Row's curvature
   pi/18 vs pi/36
   [[file:manuform/manuform-4x6+6-(curve.row-curvature=pi_18)-DIAGONAL-cmp.png]]

** Center of the curvature for the column
   Index, middle, ring, pinky in order
   [[file:manuform/manuform-4x6+6-(curve.centercol)-DIAGONAL-cmp.png]]

** Tenting Angle
   pi/10 vs pi/15

   Row tilt is larger
   [[file:manuform/manuform-4x6+6-(curve.tenting=10)-DIAGONAL-cmp.png]]

** Rotation around row axis
   pi/10 vs pi/180
   [[file:manuform/manuform-4x6+6-(curve.rotate-x=pi_10)-DIAGONAL-cmp.png]]

   -pi/10 vs pi/180
   [[file:manuform/manuform-4x6+6-(curve.rotate-x=-pi_10)-DIAGONAL-cmp.png]]

   -pi/36 vs pi/180
   [[file:manuform/manuform-4x6+6-(curve.rotate-x=-pi_36)-DIAGONAL-cmp.png]]
* Connectors

** Internal connector RJ9 Mini USB
   [[https://youtu.be/Oloh3Yabu6I?t=240][4:00]] to 25:00 of Kevin Eckert's build log is a good reference.

   I don't try this and I am not sure the connector size is the same.
   
   [[file:manuform/manuform-4x6+6-BACK_TOP.png]] 
   
   [[file:images/internal-connector-rj9.png]] 
   
** Internal connector TRRS Micro USB
   "internal connector TRRS Micro USB" vs "internal connector RJ9 Mini USB"

   [[file:manuform/manuform-4x6+6-(connector.type=trrs)-BACK_TOP-cmp.png]] 

   - A 3.5mm audio jack connector PJ-320B can be used in the TRRS hole of case
   - A micro USB breakout board can be used in the USB rectangle hole of case
   - The pro micro board can be hung on the L hook
   - The pro micro board is connected to the USB breakout board with a cable
     
   This looks more complicated than external holder,
   but it's fine to use internal holder in the secondary part (typically the right part),
   because the secondary part is connected to the master part with an audio cable and no USB is required.
   
   [[file:images/internal-connector-trrs.png]] 

   micro USB breakout board
   
   [[file:images/microusb-breakout-board.png]] 

   Below image comes from [[https://www.beekeeb.com/dactyl-manuform-mini-mechanical-keyboard-build-log/][Leo's build log]].
   [[file:images/leo-dactyl-manuform-bottom.png]] 
   
** Internal connector none
   "internal none" vs "internal RJ9 Mini USB"

   This is used for wireless keyboard
   [[file:manuform/manuform-4x6+6-(connector.type=none)-BACK_TOP-cmp.png]] 

** External Holder

   The case wall thickness is about 5mm, which is too thick for promicro v1 and v2 holder.
   The promicro v3 holder fits the case even though not 100% well-fitting.
   The current v3 link in manuform page is broken. A [[https://github.com/ibnuda/dactyl-keyboard/pull/92][PR]] is submitted.
   In addition, there is a [[https://github.com/ibnuda/dactyl-keyboard/issues/85][separated part]] in [[https://github.com/ibnuda/dactyl-keyboard/blob/refaktor/resources/public/loligagger-external-holder-v3-extended.stl][github v3 holder model]].
   [[file:stl/][Here]] is the fixed version for right case and a mirror version for left case.
   The 3.5mm audio jack connector PJ-320B and pro micro board fit the holder.
   [[file:manuform/manuform-4x6+6-(connector.external=yes)-BACK_TOP.png]]

* Form of the Case

** Hotswap socket
   Yes vs No
   [[file:manuform/manuform-4x6+6-(form.hotswap=yes)-BOTTOM_DIST_200-cmp.png]]

** Thumb cluster offsets center x (toward the pinky)
   The greater the value, thumb cluster is closer to right, toward pinky finger, toward x positive direction

   1 vs 6
   [[file:manuform/manuform-4x6+6-(form.thumb-cluster-offset-x=1)-DIAGONAL-cmp.png]]

** Thumb cluster offsets center y (toward the index)
   The greater the value, thumb cluster is more toward to index finger, toward y positive direction

   3 vs -3
   [[file:manuform/manuform-4x6+6-(form.thumb-cluster-offset-y=3)-DIAGONAL-cmp.png]]

** Thumb cluster offsets center z (altitude)
   The greater the value, thumb cluster is higher

   17 vs 7
   [[file:manuform/manuform-4x6+6-(form.thumb-cluster-offset-z=17)-DIAGONAL-cmp.png]]

** Stagger
   Yes vs No

   [[file:manuform/manuform-4x6+6-(form.stagger=no)-TOP-cmp.png]]
   [[file:manuform/manuform-4x6+6-(form.stagger=no)-DIAGONAL-cmp.png]]

** Index finger measurement y
   The greater the value, index finger's column (column 1 and 2) is more far away from hand, toward y positive direction

   10 vs 0
   [[file:manuform/manuform-4x6+6-(form.stagger-index-y=10)-TOP-cmp.png]]

** Index finger measurement z
   The greater the value, index finger's column (column 1 and 2) is higher

   15 vs 0
   [[file:manuform/manuform-4x6+6-(form.stagger-index-z=15)-DIAGONAL-cmp.png]]

** Middle finger measurement y
   The greater the value, the middle finger's column (column 3) is more far away from hand, toward y positive direction

   10 vs 2.8
   [[file:manuform/manuform-4x6+6-(form.stagger-middle-y=10)-TOP-cmp.png]]

** Middle finger measurement z
   The greater the value, the middle finger's column (column 3) is higher

   0 vs -6.5
   [[file:manuform/manuform-4x6+6-(form.stagger-middle-z=0)-DIAGONAL-cmp.png]]

** Ring finger measurement y
   The greater the value, the ring finger's column (column 4) is more far away from hand, toward y positive direction

   10 vs 0
   [[file:manuform/manuform-4x6+6-(form.stagger-ring-y=10)-TOP-cmp.png]]

** Ring finger measurement z
   The greater the value, the ring finger's column (column 4) is higher

   15 vs 0
   [[file:manuform/manuform-4x6+6-(form.stagger-ring-z=15)-DIAGONAL-cmp.png]]

** Pinky finger measurement y
   The greater the value, the pinky finger's column (column 5 and 6) is more far away from hand, toward y positive direction

   0 vs -13
   [[file:manuform/manuform-4x6+6-(form.stagger-pinky-y=0)-TOP-cmp.png]]

** Pinky finger measurement z
   The greater the value, the pinky finger's column (column 5 and 6) is higher

   0 vs 6
   [[file:manuform/manuform-4x6+6-(form.stagger-pinky-z=0)-DIAGONAL-cmp.png]]

** Wide pinky
   Whether the right most column uses 1.5u keycap

   Yes vs No
   [[file:manuform/manuform-4x6+6-(form.wide-pinky=yes)-DIAGONAL-cmp.png]]

** Height offset
   The overall height of the keyboard case

   4mm vs 10mm
   [[file:manuform/manuform-4x6+6-(form.height-offset=4)-DIAGONAL-cmp.png]]

** Wire posts
   Sorry I haven't tried it. Enable it if you think it helps wiring.
   [[file:manuform/manuform-4x6+6-(form.wire-post=yes)-BOTTOM-cmp.png]]

** Screw inserts
   5 screw hole. They are hollow even though they looks solid in the rendered preview image,
   because OpenSCAD full geometry render is time-consuming.

   Yes vs No
   [[file:manuform/manuform-4x6+6-(form.screw-inserts=yes)-BOTTOM-cmp.png]]

* Misc

** Show Keycaps
   Just for display

   Yes vs No
   [[file:manuform/manuform-4x6+6-(misc.keycaps=yes)-DIAGONAL-cmp.png]]

** Right side or left side
   Left vs Right
   [[file:manuform/manuform-4x6+6-(misc.left-side)-DIAGONAL-cmp.png]]

* Known Issues
  1. Connectors

     Because dactyl manuform API has a [[https://github.com/ibnuda/dactyl-keyboard/pull/87][BUG]] to get the parameter connector type, the
     base model sets parameter ~connector~ to ~none~ which is the default value in
     source code, and demo to parameter ~connector~ and ~USB hole~ is skipped.
     Demo will be updated once my fix is merged by dactyl generator author.

  2. Custom thumb cluster

     This function is experimental and only top 3 thumb keys (take right thumb
     cluster for example, top right, top left, middle left) are customizable. See
     this [[https://github.com/ibnuda/dactyl-keyboard/issues/28][dactyl generator issue]] for an example.
     The demo to these parameters is skipped.
